{
  "version": 3,
  "sources": ["../../@base-ui/react/esm/use-button/useButton.js", "../../@base-ui/react/esm/composite/root/CompositeRootContext.js", "../../@base-ui/react/esm/utils/useFocusableWhenDisabled.js"],
  "sourcesContent": ["'use client';\n\nimport * as React from 'react';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { error } from '@base-ui/utils/error';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { makeEventPreventable, mergeProps } from \"../merge-props/index.js\";\nimport { useCompositeRootContext } from \"../composite/root/CompositeRootContext.js\";\nimport { useFocusableWhenDisabled } from \"../utils/useFocusableWhenDisabled.js\";\nexport function useButton(parameters = {}) {\n  const {\n    disabled = false,\n    focusableWhenDisabled,\n    tabIndex = 0,\n    native: isNativeButton = true\n  } = parameters;\n  const elementRef = React.useRef(null);\n  const isCompositeItem = useCompositeRootContext(true) !== undefined;\n  const isValidLink = useStableCallback(() => {\n    const element = elementRef.current;\n    return Boolean(element?.tagName === 'A' && element?.href);\n  });\n  const {\n    props: focusableWhenDisabledProps\n  } = useFocusableWhenDisabled({\n    focusableWhenDisabled,\n    disabled,\n    composite: isCompositeItem,\n    tabIndex,\n    isNativeButton\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (!elementRef.current) {\n        return;\n      }\n      const isButtonTag = elementRef.current.tagName === 'BUTTON';\n      if (isNativeButton) {\n        if (!isButtonTag) {\n          error('A component that acts as a button was not rendered as a native <button>, which does not match the default. Ensure that the element passed to the `render` prop of the component is a real <button>, or set the `nativeButton` prop on the component to `false`.');\n        }\n      } else if (isButtonTag) {\n        error('A component that acts as a button was rendered as a native <button>, which does not match the default. Ensure that the element passed to the `render` prop of the component is not a real <button>, or set the `nativeButton` prop on the component to `true`.');\n      }\n    }, [isNativeButton]);\n  }\n\n  // handles a disabled composite button rendering another button, e.g.\n  // <Toolbar.Button disabled render={<Menu.Trigger />} />\n  // the `disabled` prop needs to pass through 2 `useButton`s then finally\n  // delete the `disabled` attribute from DOM\n  const updateDisabled = React.useCallback(() => {\n    const element = elementRef.current;\n    if (!isButtonElement(element)) {\n      return;\n    }\n    if (isCompositeItem && disabled && focusableWhenDisabledProps.disabled === undefined && element.disabled) {\n      element.disabled = false;\n    }\n  }, [disabled, focusableWhenDisabledProps.disabled, isCompositeItem]);\n  useIsoLayoutEffect(updateDisabled, [updateDisabled]);\n  const getButtonProps = React.useCallback((externalProps = {}) => {\n    const {\n      onClick: externalOnClick,\n      onMouseDown: externalOnMouseDown,\n      onKeyUp: externalOnKeyUp,\n      onKeyDown: externalOnKeyDown,\n      onPointerDown: externalOnPointerDown,\n      ...otherExternalProps\n    } = externalProps;\n    const type = isNativeButton ? 'button' : undefined;\n    return mergeProps({\n      type,\n      onClick(event) {\n        if (disabled) {\n          event.preventDefault();\n          return;\n        }\n        externalOnClick?.(event);\n      },\n      onMouseDown(event) {\n        if (!disabled) {\n          externalOnMouseDown?.(event);\n        }\n      },\n      onKeyDown(event) {\n        if (!disabled) {\n          makeEventPreventable(event);\n          externalOnKeyDown?.(event);\n        }\n        if (event.baseUIHandlerPrevented) {\n          return;\n        }\n        const shouldClick = event.target === event.currentTarget && !isNativeButton && !isValidLink() && !disabled;\n        const isEnterKey = event.key === 'Enter';\n        const isSpaceKey = event.key === ' ';\n\n        // Keyboard accessibility for non interactive elements\n        if (shouldClick) {\n          if (isSpaceKey || isEnterKey) {\n            event.preventDefault();\n          }\n          if (isEnterKey) {\n            externalOnClick?.(event);\n          }\n        }\n      },\n      onKeyUp(event) {\n        // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n        // https://codesandbox.io/p/sandbox/button-keyup-preventdefault-dn7f0\n        // Keyboard accessibility for non interactive elements\n        if (!disabled) {\n          makeEventPreventable(event);\n          externalOnKeyUp?.(event);\n        }\n        if (event.baseUIHandlerPrevented) {\n          return;\n        }\n        if (event.target === event.currentTarget && !isNativeButton && !disabled && event.key === ' ') {\n          externalOnClick?.(event);\n        }\n      },\n      onPointerDown(event) {\n        if (disabled) {\n          event.preventDefault();\n          return;\n        }\n        externalOnPointerDown?.(event);\n      }\n    }, !isNativeButton ? {\n      role: 'button'\n    } : undefined, focusableWhenDisabledProps, otherExternalProps);\n  }, [disabled, focusableWhenDisabledProps, isNativeButton, isValidLink]);\n  const buttonRef = useStableCallback(element => {\n    elementRef.current = element;\n    updateDisabled();\n  });\n  return {\n    getButtonProps,\n    buttonRef\n  };\n}\nfunction isButtonElement(elem) {\n  return isHTMLElement(elem) && elem.tagName === 'BUTTON';\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const CompositeRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") CompositeRootContext.displayName = \"CompositeRootContext\";\nexport function useCompositeRootContext(optional = false) {\n  const context = React.useContext(CompositeRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: CompositeRootContext is missing. Composite parts must be placed within <Composite.Root>.' : _formatErrorMessage(16));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nexport function useFocusableWhenDisabled(parameters) {\n  const {\n    focusableWhenDisabled,\n    disabled,\n    composite = false,\n    tabIndex: tabIndexProp = 0,\n    isNativeButton\n  } = parameters;\n  const isFocusableComposite = composite && focusableWhenDisabled !== false;\n  const isNonFocusableComposite = composite && focusableWhenDisabled === false;\n\n  // we can't explicitly assign `undefined` to any of these props because it\n  // would otherwise prevent subsequently merged props from setting them\n  const props = React.useMemo(() => {\n    const additionalProps = {\n      // allow Tabbing away from focusableWhenDisabled elements\n      onKeyDown(event) {\n        if (disabled && focusableWhenDisabled && event.key !== 'Tab') {\n          event.preventDefault();\n        }\n      }\n    };\n    if (!composite) {\n      additionalProps.tabIndex = tabIndexProp;\n      if (!isNativeButton && disabled) {\n        additionalProps.tabIndex = focusableWhenDisabled ? tabIndexProp : -1;\n      }\n    }\n    if (isNativeButton && (focusableWhenDisabled || isFocusableComposite) || !isNativeButton && disabled) {\n      additionalProps['aria-disabled'] = disabled;\n    }\n    if (isNativeButton && (!focusableWhenDisabled || isNonFocusableComposite)) {\n      additionalProps.disabled = disabled;\n    }\n    return additionalProps;\n  }, [composite, disabled, focusableWhenDisabled, isFocusableComposite, isNonFocusableComposite, isNativeButton, tabIndexProp]);\n  return {\n    props\n  };\n}"],
  "mappings": "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",
  "names": ["React", "React"]
}
