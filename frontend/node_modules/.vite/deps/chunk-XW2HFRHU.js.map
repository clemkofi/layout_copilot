{
  "version": 3,
  "sources": ["../../@base-ui/react/esm/field/control/FieldControlDataAttributes.js", "../../@base-ui/react/esm/field/utils/constants.js", "../../@base-ui/react/esm/field/root/FieldRootContext.js", "../../@base-ui/react/esm/form/FormContext.js", "../../@base-ui/react/esm/labelable-provider/LabelableContext.js", "../../@base-ui/react/esm/field/useField.js", "../../@base-ui/react/esm/field/utils/getCombinedFieldValidityData.js", "../../@base-ui/react/esm/labelable-provider/useLabelableId.js"],
  "sourcesContent": ["export let FieldControlDataAttributes = /*#__PURE__*/function (FieldControlDataAttributes) {\n  /**\n   * Present when the field is disabled.\n   */\n  FieldControlDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Present when the field is in valid state.\n   */\n  FieldControlDataAttributes[\"valid\"] = \"data-valid\";\n  /**\n   * Present when the field is in invalid state.\n   */\n  FieldControlDataAttributes[\"invalid\"] = \"data-invalid\";\n  /**\n   * Present when the field has been touched.\n   */\n  FieldControlDataAttributes[\"touched\"] = \"data-touched\";\n  /**\n   * Present when the field's value has changed.\n   */\n  FieldControlDataAttributes[\"dirty\"] = \"data-dirty\";\n  /**\n   * Present when the field is filled.\n   */\n  FieldControlDataAttributes[\"filled\"] = \"data-filled\";\n  /**\n   * Present when the field control is focused.\n   */\n  FieldControlDataAttributes[\"focused\"] = \"data-focused\";\n  return FieldControlDataAttributes;\n}({});", "import { FieldControlDataAttributes } from \"../control/FieldControlDataAttributes.js\";\nexport const DEFAULT_VALIDITY_STATE = {\n  badInput: false,\n  customError: false,\n  patternMismatch: false,\n  rangeOverflow: false,\n  rangeUnderflow: false,\n  stepMismatch: false,\n  tooLong: false,\n  tooShort: false,\n  typeMismatch: false,\n  valid: null,\n  valueMissing: false\n};\nexport const fieldValidityMapping = {\n  valid(value) {\n    if (value === null) {\n      return null;\n    }\n    if (value) {\n      return {\n        [FieldControlDataAttributes.valid]: ''\n      };\n    }\n    return {\n      [FieldControlDataAttributes.invalid]: ''\n    };\n  }\n};", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { NOOP } from \"../../utils/noop.js\";\nimport { DEFAULT_VALIDITY_STATE } from \"../utils/constants.js\";\nimport { EMPTY_OBJECT } from \"../../utils/constants.js\";\nexport const FieldRootContext = /*#__PURE__*/React.createContext({\n  invalid: undefined,\n  name: undefined,\n  validityData: {\n    state: DEFAULT_VALIDITY_STATE,\n    errors: [],\n    error: '',\n    value: '',\n    initialValue: null\n  },\n  setValidityData: NOOP,\n  disabled: undefined,\n  touched: false,\n  setTouched: NOOP,\n  dirty: false,\n  setDirty: NOOP,\n  filled: false,\n  setFilled: NOOP,\n  focused: false,\n  setFocused: NOOP,\n  validate: () => null,\n  validationMode: 'onSubmit',\n  validationDebounceTime: 0,\n  shouldValidateOnChange: () => false,\n  state: {\n    disabled: false,\n    valid: null,\n    touched: false,\n    dirty: false,\n    filled: false,\n    focused: false\n  },\n  markedDirtyRef: {\n    current: false\n  },\n  validation: {\n    getValidationProps: (props = EMPTY_OBJECT) => props,\n    getInputValidationProps: (props = EMPTY_OBJECT) => props,\n    inputRef: {\n      current: null\n    },\n    commit: async () => {}\n  }\n});\nif (process.env.NODE_ENV !== \"production\") FieldRootContext.displayName = \"FieldRootContext\";\nexport function useFieldRootContext(optional = true) {\n  const context = React.useContext(FieldRootContext);\n  if (context.setValidityData === NOOP && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: FieldRootContext is missing. Field parts must be placed within <Field.Root>.' : _formatErrorMessage(28));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { NOOP } from \"../utils/noop.js\";\nexport const FormContext = /*#__PURE__*/React.createContext({\n  formRef: {\n    current: {\n      fields: new Map()\n    }\n  },\n  errors: {},\n  clearErrors: NOOP,\n  validationMode: 'onSubmit',\n  submitAttemptedRef: {\n    current: false\n  }\n});\nif (process.env.NODE_ENV !== \"production\") FormContext.displayName = \"FormContext\";\nexport function useFormContext() {\n  return React.useContext(FormContext);\n}", "'use client';\n\nimport * as React from 'react';\nimport { NOOP } from \"../utils/noop.js\";\n/**\n * A context for providing [labelable elements](https://html.spec.whatwg.org/multipage/forms.html#category-label)\\\n * with an accessible name (label) and description.\n */\nexport const LabelableContext = /*#__PURE__*/React.createContext({\n  controlId: undefined,\n  setControlId: NOOP,\n  labelId: undefined,\n  setLabelId: NOOP,\n  messageIds: [],\n  setMessageIds: NOOP,\n  getDescriptionProps: externalProps => externalProps\n});\nif (process.env.NODE_ENV !== \"production\") LabelableContext.displayName = \"LabelableContext\";\nexport function useLabelableContext() {\n  return React.useContext(LabelableContext);\n}", "import * as ReactDOM from 'react-dom';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { getCombinedFieldValidityData } from \"./utils/getCombinedFieldValidityData.js\";\nimport { useFormContext } from \"../form/FormContext.js\";\nimport { useFieldRootContext } from \"./root/FieldRootContext.js\";\nexport function useField(params) {\n  const {\n    enabled = true,\n    value,\n    id,\n    name,\n    controlRef,\n    commit\n  } = params;\n  const {\n    formRef\n  } = useFormContext();\n  const {\n    invalid,\n    markedDirtyRef,\n    validityData,\n    setValidityData\n  } = useFieldRootContext();\n  const getValue = useStableCallback(params.getValue);\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    let initialValue = value;\n    if (initialValue === undefined) {\n      initialValue = getValue();\n    }\n    if (validityData.initialValue === null && initialValue !== null) {\n      setValidityData(prev => ({\n        ...prev,\n        initialValue\n      }));\n    }\n  }, [enabled, setValidityData, value, validityData.initialValue, getValue]);\n  useIsoLayoutEffect(() => {\n    if (!enabled || !id) {\n      return;\n    }\n    formRef.current.fields.set(id, {\n      getValue,\n      name,\n      controlRef,\n      validityData: getCombinedFieldValidityData(validityData, invalid),\n      validate(flushSync = true) {\n        let nextValue = value;\n        if (nextValue === undefined) {\n          nextValue = getValue();\n        }\n        markedDirtyRef.current = true;\n        if (!flushSync) {\n          commit(nextValue);\n        } else {\n          // Synchronously update the validity state so the submit event can be prevented.\n          ReactDOM.flushSync(() => commit(nextValue));\n        }\n      }\n    });\n  }, [commit, controlRef, enabled, formRef, getValue, id, invalid, markedDirtyRef, name, validityData, value]);\n  useIsoLayoutEffect(() => {\n    const fields = formRef.current.fields;\n    return () => {\n      if (id) {\n        fields.delete(id);\n      }\n    };\n  }, [formRef, id]);\n}", "/**\n * Combines the field's client-side, stateful validity data with the external invalid state to\n * determine the field's true validity.\n */\nexport function getCombinedFieldValidityData(validityData, invalid) {\n  return {\n    ...validityData,\n    state: {\n      ...validityData.state,\n      valid: !invalid && validityData.state.valid\n    }\n  };\n}", "'use client';\n\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { NOOP } from \"../utils/noop.js\";\nimport { useBaseUiId } from \"../utils/useBaseUiId.js\";\nimport { useLabelableContext } from \"./LabelableContext.js\";\nexport function useLabelableId(params = {}) {\n  const {\n    id,\n    implicit = false,\n    controlRef\n  } = params;\n  const {\n    controlId,\n    setControlId\n  } = useLabelableContext();\n  const defaultId = useBaseUiId(id);\n  useIsoLayoutEffect(() => {\n    if (!implicit && !id || setControlId === NOOP) {\n      return undefined;\n    }\n    if (implicit) {\n      const elem = controlRef?.current;\n      if (isElement(elem) && elem.closest('label') != null) {\n        setControlId(id ?? null);\n      } else {\n        setControlId(controlId ?? defaultId);\n      }\n    } else if (id) {\n      setControlId(id);\n    }\n    return () => {\n      if (id) {\n        setControlId(undefined);\n      }\n    };\n  }, [id, controlRef, controlId, setControlId, implicit, defaultId]);\n  return controlId ?? defaultId;\n}"],
  "mappings": "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",
  "names": ["FieldControlDataAttributes", "React", "React", "flushSync"]
}
